(self.webpackChunkrugs=self.webpackChunkrugs||[]).push([[520],{4635:function(e,r,t){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,r,t,n){void 0===n&&(n=t),Object.defineProperty(e,n,{enumerable:!0,get:function(){return r[t]}})}:function(e,r,t,n){void 0===n&&(n=t),e[n]=r[t]}),i=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)"default"!==t&&Object.prototype.hasOwnProperty.call(e,t)&&n(r,e,t);return i(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.getEncryptionPublicKey=r.decryptSafely=r.decrypt=r.encryptSafely=r.encrypt=void 0;const a=o(t(92606)),s=o(t(71581)),c=t(53317);function u({publicKey:e,data:r,version:t}){if(c.isNullish(e))throw new Error("Missing publicKey parameter");if(c.isNullish(r))throw new Error("Missing data parameter");if(c.isNullish(t))throw new Error("Missing version parameter");switch(t){case"x25519-xsalsa20-poly1305":{if("string"!=typeof r)throw new Error("Message data must be given as a string");const t=a.box.keyPair();let i;try{i=s.decodeBase64(e)}catch(n){throw new Error("Bad public key")}const o=s.decodeUTF8(r),c=a.randomBytes(a.box.nonceLength),u=a.box(o,c,i,t.secretKey);return{version:"x25519-xsalsa20-poly1305",nonce:s.encodeBase64(c),ephemPublicKey:s.encodeBase64(t.publicKey),ciphertext:s.encodeBase64(u)}}default:throw new Error("Encryption type/version not supported")}}function f({encryptedData:e,privateKey:r}){if(c.isNullish(e))throw new Error("Missing encryptedData parameter");if(c.isNullish(r))throw new Error("Missing privateKey parameter");switch(e.version){case"x25519-xsalsa20-poly1305":{const n=h(r),i=a.box.keyPair.fromSecretKey(n).secretKey,o=s.decodeBase64(e.nonce),c=s.decodeBase64(e.ciphertext),u=s.decodeBase64(e.ephemPublicKey),f=a.box.open(c,o,u,i);let p;try{p=s.encodeUTF8(f)}catch(t){throw new Error("Decryption failed.")}if(p)return p;throw new Error("Decryption failed.")}default:throw new Error("Encryption type/version not supported.")}}function h(e){const r=Buffer.from(e,"hex").toString("base64");return s.decodeBase64(r)}r.encrypt=u,r.encryptSafely=function({publicKey:e,data:r,version:t}){if(c.isNullish(e))throw new Error("Missing publicKey parameter");if(c.isNullish(r))throw new Error("Missing data parameter");if(c.isNullish(t))throw new Error("Missing version parameter");if("object"==typeof r&&"toJSON"in r)throw new Error("Cannot encrypt with toJSON property.  Please remove toJSON property");const n={data:r,padding:""},i=Buffer.byteLength(JSON.stringify(n),"utf-8")%2048;let o=0;return i>0&&(o=2048-i-16),n.padding="0".repeat(o),u({publicKey:e,data:JSON.stringify(n),version:t})},r.decrypt=f,r.decryptSafely=function({encryptedData:e,privateKey:r}){if(c.isNullish(e))throw new Error("Missing encryptedData parameter");if(c.isNullish(r))throw new Error("Missing privateKey parameter");return JSON.parse(f({encryptedData:e,privateKey:r})).data},r.getEncryptionPublicKey=function(e){const r=h(e),t=a.box.keyPair.fromSecretKey(r).publicKey;return s.encodeBase64(t)}},73822:function(e,r,t){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,r,t,n){void 0===n&&(n=t),Object.defineProperty(e,n,{enumerable:!0,get:function(){return r[t]}})}:function(e,r,t,n){void 0===n&&(n=t),e[n]=r[t]}),i=this&&this.__exportStar||function(e,r){for(var t in e)"default"===t||Object.prototype.hasOwnProperty.call(r,t)||n(r,e,t)};Object.defineProperty(r,"__esModule",{value:!0}),r.normalize=r.concatSig=void 0,i(t(65163),r),i(t(2526),r),i(t(4635),r);var o=t(53317);Object.defineProperty(r,"concatSig",{enumerable:!0,get:function(){return o.concatSig}}),Object.defineProperty(r,"normalize",{enumerable:!0,get:function(){return o.normalize}})},65163:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.extractPublicKey=r.recoverPersonalSignature=r.personalSign=void 0;const n=t(5090),i=t(53317);function o(e,r){const t=n.hashPersonalMessage(i.legacyToBuffer(e));return i.recoverPublicKey(t,r)}r.personalSign=function({privateKey:e,data:r}){if(i.isNullish(r))throw new Error("Missing data parameter");if(i.isNullish(e))throw new Error("Missing privateKey parameter");const t=i.legacyToBuffer(r),o=n.hashPersonalMessage(t),a=n.ecsign(o,e);return i.concatSig(n.toBuffer(a.v),a.r,a.s)},r.recoverPersonalSignature=function({data:e,signature:r}){if(i.isNullish(e))throw new Error("Missing data parameter");if(i.isNullish(r))throw new Error("Missing signature parameter");const t=o(e,r),a=n.publicToAddress(t);return n.bufferToHex(a)},r.extractPublicKey=function({data:e,signature:r}){if(i.isNullish(e))throw new Error("Missing data parameter");if(i.isNullish(r))throw new Error("Missing signature parameter");return`0x${o(e,r).toString("hex")}`}},2526:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.recoverTypedSignature=r.signTypedData=r.typedSignatureHash=r.TypedDataUtils=r.TYPED_MESSAGE_SCHEMA=r.SignTypedDataVersion=void 0;const n=t(5090),i=t(84941),o=t(53317);var a;function s(e,r){if(!Object.keys(a).includes(e))throw new Error(`Invalid version: '${e}'`);if(r&&!r.includes(e))throw new Error(`SignTypedDataVersion not allowed: '${e}'. Allowed versions are: ${r.join(", ")}`)}function c(e,r,t,o,f){if(s(f,[a.V3,a.V4]),void 0!==e[t])return["bytes32",f===a.V4&&null==o?"0x0000000000000000000000000000000000000000000000000000000000000000":n.keccak(u(t,o,e,f))];if(void 0===o)throw new Error(`missing value for field ${r} of type ${t}`);if("bytes"===t)return["bytes32",n.keccak(o)];if("string"===t)return"string"==typeof o&&(o=Buffer.from(o,"utf8")),["bytes32",n.keccak(o)];if(t.lastIndexOf("]")===t.length-1){if(f===a.V3)throw new Error("Arrays are unimplemented in encodeData; use V4 extension");const s=t.slice(0,t.lastIndexOf("[")),u=o.map(t=>c(e,r,s,t,f));return["bytes32",n.keccak(i.rawEncode(u.map(([e])=>e),u.map(([,e])=>e)))]}return[t,o]}function u(e,r,t,n){s(n,[a.V3,a.V4]);const o=["bytes32"],u=[l(e,t)];for(const i of t[e]){if(n===a.V3&&void 0===r[i.name])continue;const[e,s]=c(t,i.name,i.type,r[i.name],n);o.push(e),u.push(s)}return i.rawEncode(o,u)}function f(e,r){let t="";const n=h(e,r);n.delete(e);const i=[e,...Array.from(n).sort()];for(const o of i){if(!r[o])throw new Error(`No type definition specified: ${o}`);t+=`${o}(${r[o].map(({name:e,type:r})=>`${r} ${e}`).join(",")})`}return t}function h(e,r,t=new Set){if([e]=e.match(/^\w*/u),t.has(e)||void 0===r[e])return t;t.add(e);for(const n of r[e])h(n.type,r,t);return t}function p(e,r,t,i){return s(i,[a.V3,a.V4]),n.keccak(u(e,r,t,i))}function l(e,r){return n.keccak(f(e,r))}function d(e){const t={};for(const n in r.TYPED_MESSAGE_SCHEMA.properties)e[n]&&(t[n]=e[n]);return"types"in t&&(t.types=Object.assign({EIP712Domain:[]},t.types)),t}function y(e){const r=new Error("Expect argument to be non-empty array");if("object"!=typeof e||!("length"in e)||!e.length)throw r;const t=e.map(function(e){return"bytes"!==e.type?e.value:o.legacyToBuffer(e.value)}),n=e.map(function(e){return e.type}),a=e.map(function(e){if(!e.name)throw r;return`${e.type} ${e.name}`});return i.soliditySHA3(["bytes32","bytes32"],[i.soliditySHA3(new Array(e.length).fill("string"),a),i.soliditySHA3(n,t)])}!function(e){e.V1="V1",e.V3="V3",e.V4="V4"}(a=r.SignTypedDataVersion||(r.SignTypedDataVersion={})),r.TYPED_MESSAGE_SCHEMA={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},r.TypedDataUtils={encodeData:u,encodeType:f,findTypeDependencies:h,hashStruct:p,hashType:l,sanitizeData:d,eip712Hash:function(e,r){s(r,[a.V3,a.V4]);const t=d(e),i=[Buffer.from("1901","hex")];return i.push(p("EIP712Domain",t.domain,t.types,r)),"EIP712Domain"!==t.primaryType&&i.push(p(t.primaryType,t.message,t.types,r)),n.keccak(Buffer.concat(i))}},r.typedSignatureHash=function(e){const r=y(e);return n.bufferToHex(r)},r.signTypedData=function({privateKey:e,data:t,version:i}){if(s(i),o.isNullish(t))throw new Error("Missing data parameter");if(o.isNullish(e))throw new Error("Missing private key parameter");const c=i===a.V1?y(t):r.TypedDataUtils.eip712Hash(t,i),u=n.ecsign(c,e);return o.concatSig(n.toBuffer(u.v),u.r,u.s)},r.recoverTypedSignature=function({data:e,signature:t,version:i}){if(s(i),o.isNullish(e))throw new Error("Missing data parameter");if(o.isNullish(t))throw new Error("Missing signature parameter");const c=i===a.V1?y(e):r.TypedDataUtils.eip712Hash(e,i),u=o.recoverPublicKey(c,t),f=n.publicToAddress(u);return n.bufferToHex(f)}},53317:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.normalize=r.recoverPublicKey=r.concatSig=r.legacyToBuffer=r.isNullish=r.padWithZeroes=void 0;const n=t(5090),i=t(40615);function o(e,r){if(""!==e&&!/^[a-f0-9]+$/iu.test(e))throw new Error(`Expected an unprefixed hex string. Received: ${e}`);if(r<0)throw new Error(`Expected a non-negative integer target length. Received: ${r}`);return String.prototype.padStart.call(e,r,"0")}r.padWithZeroes=o,r.isNullish=function(e){return null==e},r.legacyToBuffer=function(e){return"string"!=typeof e||i.isHexString(e)?n.toBuffer(e):Buffer.from(e)},r.concatSig=function(e,r,t){const a=n.fromSigned(r),s=n.fromSigned(t),c=n.bufferToInt(e),u=o(n.toUnsigned(a).toString("hex"),64),f=o(n.toUnsigned(s).toString("hex"),64),h=i.stripHexPrefix(i.intToHex(c));return n.addHexPrefix(u.concat(f,h))},r.recoverPublicKey=function(e,r){const t=n.fromRpcSig(r);return n.ecrecover(e,t.v,t.r,t.s)},r.normalize=function(e){if(e){if("number"==typeof e){const r=n.toBuffer(e);e=n.bufferToHex(r)}if("string"!=typeof e){let r="eth-sig-util.normalize() requires hex string or integer input.";throw r+=` received ${typeof e}: ${e}`,new Error(r)}return n.addHexPrefix(e.toLowerCase())}}},5090:function(e,r,t){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,r,t,n){void 0===n&&(n=t),Object.defineProperty(e,n,{enumerable:!0,get:function(){return r[t]}})}:function(e,r,t,n){void 0===n&&(n=t),e[n]=r[t]}),i=this&&this.__exportStar||function(e,r){for(var t in e)"default"===t||r.hasOwnProperty(t)||n(r,e,t)};Object.defineProperty(r,"__esModule",{value:!0}),r.secp256k1=r.rlp=r.BN=void 0;var o=t(49733);r.secp256k1=o;var a=t(40615),s=t(65223);r.BN=s;var c=t(89153);r.rlp=c,Object.assign(r,a),i(t(57587),r),i(t(20185),r),i(t(26186),r),i(t(26344),r),i(t(87787),r),i(t(62712),r)},92606:function(e,r,t){!function(e){"use strict";var r=function(e){var r,t=new Float64Array(16);if(e)for(r=0;r<e.length;r++)t[r]=e[r];return t},n=function(){throw new Error("no PRNG")},i=new Uint8Array(16),o=new Uint8Array(32);o[0]=9;var a=r(),s=r([1]),c=r([56129,1]),u=r([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),f=r([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),h=r([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),p=r([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),l=r([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function d(e,r,t,n){e[r]=t>>24&255,e[r+1]=t>>16&255,e[r+2]=t>>8&255,e[r+3]=255&t,e[r+4]=n>>24&255,e[r+5]=n>>16&255,e[r+6]=n>>8&255,e[r+7]=255&n}function y(e,r,t,n,i){var o,a=0;for(o=0;o<i;o++)a|=e[r+o]^t[n+o];return(1&a-1>>>8)-1}function g(e,r,t,n){return y(e,r,t,n,16)}function m(e,r,t,n){return y(e,r,t,n,32)}function v(e,r,t,n){!function(e,r,t,n){for(var i,o=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,s=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,c=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,u=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,f=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,h=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,p=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,l=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,d=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,y=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,g=255&t[16]|(255&t[17])<<8|(255&t[18])<<16|(255&t[19])<<24,m=255&t[20]|(255&t[21])<<8|(255&t[22])<<16|(255&t[23])<<24,v=255&t[24]|(255&t[25])<<8|(255&t[26])<<16|(255&t[27])<<24,w=255&t[28]|(255&t[29])<<8|(255&t[30])<<16|(255&t[31])<<24,P=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,b=o,E=a,x=s,_=c,S=u,M=f,O=h,T=p,k=l,A=d,C=y,N=g,B=m,U=v,D=w,Z=P,I=0;I<20;I+=2)b^=(i=(B^=(i=(k^=(i=(S^=(i=b+B|0)<<7|i>>>25)+b|0)<<9|i>>>23)+S|0)<<13|i>>>19)+k|0)<<18|i>>>14,M^=(i=(E^=(i=(U^=(i=(A^=(i=M+E|0)<<7|i>>>25)+M|0)<<9|i>>>23)+A|0)<<13|i>>>19)+U|0)<<18|i>>>14,C^=(i=(O^=(i=(x^=(i=(D^=(i=C+O|0)<<7|i>>>25)+C|0)<<9|i>>>23)+D|0)<<13|i>>>19)+x|0)<<18|i>>>14,Z^=(i=(N^=(i=(T^=(i=(_^=(i=Z+N|0)<<7|i>>>25)+Z|0)<<9|i>>>23)+_|0)<<13|i>>>19)+T|0)<<18|i>>>14,b^=(i=(_^=(i=(x^=(i=(E^=(i=b+_|0)<<7|i>>>25)+b|0)<<9|i>>>23)+E|0)<<13|i>>>19)+x|0)<<18|i>>>14,M^=(i=(S^=(i=(T^=(i=(O^=(i=M+S|0)<<7|i>>>25)+M|0)<<9|i>>>23)+O|0)<<13|i>>>19)+T|0)<<18|i>>>14,C^=(i=(A^=(i=(k^=(i=(N^=(i=C+A|0)<<7|i>>>25)+C|0)<<9|i>>>23)+N|0)<<13|i>>>19)+k|0)<<18|i>>>14,Z^=(i=(D^=(i=(U^=(i=(B^=(i=Z+D|0)<<7|i>>>25)+Z|0)<<9|i>>>23)+B|0)<<13|i>>>19)+U|0)<<18|i>>>14;E=E+a|0,x=x+s|0,_=_+c|0,S=S+u|0,M=M+f|0,O=O+h|0,T=T+p|0,k=k+l|0,A=A+d|0,C=C+y|0,N=N+g|0,B=B+m|0,U=U+v|0,D=D+w|0,Z=Z+P|0,e[0]=(b=b+o|0)>>>0&255,e[1]=b>>>8&255,e[2]=b>>>16&255,e[3]=b>>>24&255,e[4]=E>>>0&255,e[5]=E>>>8&255,e[6]=E>>>16&255,e[7]=E>>>24&255,e[8]=x>>>0&255,e[9]=x>>>8&255,e[10]=x>>>16&255,e[11]=x>>>24&255,e[12]=_>>>0&255,e[13]=_>>>8&255,e[14]=_>>>16&255,e[15]=_>>>24&255,e[16]=S>>>0&255,e[17]=S>>>8&255,e[18]=S>>>16&255,e[19]=S>>>24&255,e[20]=M>>>0&255,e[21]=M>>>8&255,e[22]=M>>>16&255,e[23]=M>>>24&255,e[24]=O>>>0&255,e[25]=O>>>8&255,e[26]=O>>>16&255,e[27]=O>>>24&255,e[28]=T>>>0&255,e[29]=T>>>8&255,e[30]=T>>>16&255,e[31]=T>>>24&255,e[32]=k>>>0&255,e[33]=k>>>8&255,e[34]=k>>>16&255,e[35]=k>>>24&255,e[36]=A>>>0&255,e[37]=A>>>8&255,e[38]=A>>>16&255,e[39]=A>>>24&255,e[40]=C>>>0&255,e[41]=C>>>8&255,e[42]=C>>>16&255,e[43]=C>>>24&255,e[44]=N>>>0&255,e[45]=N>>>8&255,e[46]=N>>>16&255,e[47]=N>>>24&255,e[48]=B>>>0&255,e[49]=B>>>8&255,e[50]=B>>>16&255,e[51]=B>>>24&255,e[52]=U>>>0&255,e[53]=U>>>8&255,e[54]=U>>>16&255,e[55]=U>>>24&255,e[56]=D>>>0&255,e[57]=D>>>8&255,e[58]=D>>>16&255,e[59]=D>>>24&255,e[60]=Z>>>0&255,e[61]=Z>>>8&255,e[62]=Z>>>16&255,e[63]=Z>>>24&255}(e,r,t,n)}function w(e,r,t,n){!function(e,r,t,n){for(var i,o=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,s=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,c=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,u=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,f=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,h=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,p=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,l=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,d=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,y=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,g=255&t[16]|(255&t[17])<<8|(255&t[18])<<16|(255&t[19])<<24,m=255&t[20]|(255&t[21])<<8|(255&t[22])<<16|(255&t[23])<<24,v=255&t[24]|(255&t[25])<<8|(255&t[26])<<16|(255&t[27])<<24,w=255&t[28]|(255&t[29])<<8|(255&t[30])<<16|(255&t[31])<<24,P=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,b=0;b<20;b+=2)o^=(i=(m^=(i=(l^=(i=(u^=(i=o+m|0)<<7|i>>>25)+o|0)<<9|i>>>23)+u|0)<<13|i>>>19)+l|0)<<18|i>>>14,f^=(i=(a^=(i=(v^=(i=(d^=(i=f+a|0)<<7|i>>>25)+f|0)<<9|i>>>23)+d|0)<<13|i>>>19)+v|0)<<18|i>>>14,y^=(i=(h^=(i=(s^=(i=(w^=(i=y+h|0)<<7|i>>>25)+y|0)<<9|i>>>23)+w|0)<<13|i>>>19)+s|0)<<18|i>>>14,P^=(i=(g^=(i=(p^=(i=(c^=(i=P+g|0)<<7|i>>>25)+P|0)<<9|i>>>23)+c|0)<<13|i>>>19)+p|0)<<18|i>>>14,o^=(i=(c^=(i=(s^=(i=(a^=(i=o+c|0)<<7|i>>>25)+o|0)<<9|i>>>23)+a|0)<<13|i>>>19)+s|0)<<18|i>>>14,f^=(i=(u^=(i=(p^=(i=(h^=(i=f+u|0)<<7|i>>>25)+f|0)<<9|i>>>23)+h|0)<<13|i>>>19)+p|0)<<18|i>>>14,y^=(i=(d^=(i=(l^=(i=(g^=(i=y+d|0)<<7|i>>>25)+y|0)<<9|i>>>23)+g|0)<<13|i>>>19)+l|0)<<18|i>>>14,P^=(i=(w^=(i=(v^=(i=(m^=(i=P+w|0)<<7|i>>>25)+P|0)<<9|i>>>23)+m|0)<<13|i>>>19)+v|0)<<18|i>>>14;e[0]=o>>>0&255,e[1]=o>>>8&255,e[2]=o>>>16&255,e[3]=o>>>24&255,e[4]=f>>>0&255,e[5]=f>>>8&255,e[6]=f>>>16&255,e[7]=f>>>24&255,e[8]=y>>>0&255,e[9]=y>>>8&255,e[10]=y>>>16&255,e[11]=y>>>24&255,e[12]=P>>>0&255,e[13]=P>>>8&255,e[14]=P>>>16&255,e[15]=P>>>24&255,e[16]=h>>>0&255,e[17]=h>>>8&255,e[18]=h>>>16&255,e[19]=h>>>24&255,e[20]=p>>>0&255,e[21]=p>>>8&255,e[22]=p>>>16&255,e[23]=p>>>24&255,e[24]=l>>>0&255,e[25]=l>>>8&255,e[26]=l>>>16&255,e[27]=l>>>24&255,e[28]=d>>>0&255,e[29]=d>>>8&255,e[30]=d>>>16&255,e[31]=d>>>24&255}(e,r,t,n)}var P=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function b(e,r,t,n,i,o,a){var s,c,u=new Uint8Array(16),f=new Uint8Array(64);for(c=0;c<16;c++)u[c]=0;for(c=0;c<8;c++)u[c]=o[c];for(;i>=64;){for(v(f,u,a,P),c=0;c<64;c++)e[r+c]=t[n+c]^f[c];for(s=1,c=8;c<16;c++)u[c]=255&(s=s+(255&u[c])|0),s>>>=8;i-=64,r+=64,n+=64}if(i>0)for(v(f,u,a,P),c=0;c<i;c++)e[r+c]=t[n+c]^f[c];return 0}function E(e,r,t,n,i){var o,a,s=new Uint8Array(16),c=new Uint8Array(64);for(a=0;a<16;a++)s[a]=0;for(a=0;a<8;a++)s[a]=n[a];for(;t>=64;){for(v(c,s,i,P),a=0;a<64;a++)e[r+a]=c[a];for(o=1,a=8;a<16;a++)s[a]=255&(o=o+(255&s[a])|0),o>>>=8;t-=64,r+=64}if(t>0)for(v(c,s,i,P),a=0;a<t;a++)e[r+a]=c[a];return 0}function x(e,r,t,n,i){var o=new Uint8Array(32);w(o,n,i,P);for(var a=new Uint8Array(8),s=0;s<8;s++)a[s]=n[s+16];return E(e,r,t,a,o)}function _(e,r,t,n,i,o,a){var s=new Uint8Array(32);w(s,o,a,P);for(var c=new Uint8Array(8),u=0;u<8;u++)c[u]=o[u+16];return b(e,r,t,n,i,c,s)}var S=function(e){var r,t,n,i,o,a,s,c;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,this.r[0]=8191&(r=255&e[0]|(255&e[1])<<8),this.r[1]=8191&(r>>>13|(t=255&e[2]|(255&e[3])<<8)<<3),this.r[2]=7939&(t>>>10|(n=255&e[4]|(255&e[5])<<8)<<6),this.r[3]=8191&(n>>>7|(i=255&e[6]|(255&e[7])<<8)<<9),this.r[4]=255&(i>>>4|(o=255&e[8]|(255&e[9])<<8)<<12),this.r[5]=o>>>1&8190,this.r[6]=8191&(o>>>14|(a=255&e[10]|(255&e[11])<<8)<<2),this.r[7]=8065&(a>>>11|(s=255&e[12]|(255&e[13])<<8)<<5),this.r[8]=8191&(s>>>8|(c=255&e[14]|(255&e[15])<<8)<<8),this.r[9]=c>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};function M(e,r,t,n,i,o){var a=new S(o);return a.update(t,n,i),a.finish(e,r),0}function O(e,r,t,n,i,o){var a=new Uint8Array(16);return M(a,0,t,n,i,o),g(e,r,a,0)}function T(e,r,t,n,i){var o;if(t<32)return-1;for(_(e,0,r,0,t,n,i),M(e,16,e,32,t-32,e),o=0;o<16;o++)e[o]=0;return 0}function k(e,r,t,n,i){var o,a=new Uint8Array(32);if(t<32)return-1;if(x(a,0,32,n,i),0!==O(r,16,r,32,t-32,a))return-1;for(_(e,0,r,0,t,n,i),o=0;o<32;o++)e[o]=0;return 0}function A(e,r){var t;for(t=0;t<16;t++)e[t]=0|r[t]}function C(e){var r,t,n=1;for(r=0;r<16;r++)t=e[r]+n+65535,n=Math.floor(t/65536),e[r]=t-65536*n;e[0]+=n-1+37*(n-1)}function N(e,r,t){for(var n,i=~(t-1),o=0;o<16;o++)e[o]^=n=i&(e[o]^r[o]),r[o]^=n}function B(e,t){var n,i,o,a=r(),s=r();for(n=0;n<16;n++)s[n]=t[n];for(C(s),C(s),C(s),i=0;i<2;i++){for(a[0]=s[0]-65517,n=1;n<15;n++)a[n]=s[n]-65535-(a[n-1]>>16&1),a[n-1]&=65535;a[15]=s[15]-32767-(a[14]>>16&1),o=a[15]>>16&1,a[14]&=65535,N(s,a,1-o)}for(n=0;n<16;n++)e[2*n]=255&s[n],e[2*n+1]=s[n]>>8}function U(e,r){var t=new Uint8Array(32),n=new Uint8Array(32);return B(t,e),B(n,r),m(t,0,n,0)}function D(e){var r=new Uint8Array(32);return B(r,e),1&r[0]}function Z(e,r){var t;for(t=0;t<16;t++)e[t]=r[2*t]+(r[2*t+1]<<8);e[15]&=32767}function I(e,r,t){for(var n=0;n<16;n++)e[n]=r[n]+t[n]}function j(e,r,t){for(var n=0;n<16;n++)e[n]=r[n]-t[n]}function G(e,r,t){var n,i,o=0,a=0,s=0,c=0,u=0,f=0,h=0,p=0,l=0,d=0,y=0,g=0,m=0,v=0,w=0,P=0,b=0,E=0,x=0,_=0,S=0,M=0,O=0,T=0,k=0,A=0,C=0,N=0,B=0,U=0,D=0,Z=t[0],I=t[1],j=t[2],G=t[3],K=t[4],F=t[5],V=t[6],L=t[7],H=t[8],z=t[9],R=t[10],Y=t[11],q=t[12],$=t[13],W=t[14],J=t[15];o+=(n=r[0])*Z,a+=n*I,s+=n*j,c+=n*G,u+=n*K,f+=n*F,h+=n*V,p+=n*L,l+=n*H,d+=n*z,y+=n*R,g+=n*Y,m+=n*q,v+=n*$,w+=n*W,P+=n*J,a+=(n=r[1])*Z,s+=n*I,c+=n*j,u+=n*G,f+=n*K,h+=n*F,p+=n*V,l+=n*L,d+=n*H,y+=n*z,g+=n*R,m+=n*Y,v+=n*q,w+=n*$,P+=n*W,b+=n*J,s+=(n=r[2])*Z,c+=n*I,u+=n*j,f+=n*G,h+=n*K,p+=n*F,l+=n*V,d+=n*L,y+=n*H,g+=n*z,m+=n*R,v+=n*Y,w+=n*q,P+=n*$,b+=n*W,E+=n*J,c+=(n=r[3])*Z,u+=n*I,f+=n*j,h+=n*G,p+=n*K,l+=n*F,d+=n*V,y+=n*L,g+=n*H,m+=n*z,v+=n*R,w+=n*Y,P+=n*q,b+=n*$,E+=n*W,x+=n*J,u+=(n=r[4])*Z,f+=n*I,h+=n*j,p+=n*G,l+=n*K,d+=n*F,y+=n*V,g+=n*L,m+=n*H,v+=n*z,w+=n*R,P+=n*Y,b+=n*q,E+=n*$,x+=n*W,_+=n*J,f+=(n=r[5])*Z,h+=n*I,p+=n*j,l+=n*G,d+=n*K,y+=n*F,g+=n*V,m+=n*L,v+=n*H,w+=n*z,P+=n*R,b+=n*Y,E+=n*q,x+=n*$,_+=n*W,S+=n*J,h+=(n=r[6])*Z,p+=n*I,l+=n*j,d+=n*G,y+=n*K,g+=n*F,m+=n*V,v+=n*L,w+=n*H,P+=n*z,b+=n*R,E+=n*Y,x+=n*q,_+=n*$,S+=n*W,M+=n*J,p+=(n=r[7])*Z,l+=n*I,d+=n*j,y+=n*G,g+=n*K,m+=n*F,v+=n*V,w+=n*L,P+=n*H,b+=n*z,E+=n*R,x+=n*Y,_+=n*q,S+=n*$,M+=n*W,O+=n*J,l+=(n=r[8])*Z,d+=n*I,y+=n*j,g+=n*G,m+=n*K,v+=n*F,w+=n*V,P+=n*L,b+=n*H,E+=n*z,x+=n*R,_+=n*Y,S+=n*q,M+=n*$,O+=n*W,T+=n*J,d+=(n=r[9])*Z,y+=n*I,g+=n*j,m+=n*G,v+=n*K,w+=n*F,P+=n*V,b+=n*L,E+=n*H,x+=n*z,_+=n*R,S+=n*Y,M+=n*q,O+=n*$,T+=n*W,k+=n*J,y+=(n=r[10])*Z,g+=n*I,m+=n*j,v+=n*G,w+=n*K,P+=n*F,b+=n*V,E+=n*L,x+=n*H,_+=n*z,S+=n*R,M+=n*Y,O+=n*q,T+=n*$,k+=n*W,A+=n*J,g+=(n=r[11])*Z,m+=n*I,v+=n*j,w+=n*G,P+=n*K,b+=n*F,E+=n*V,x+=n*L,_+=n*H,S+=n*z,M+=n*R,O+=n*Y,T+=n*q,k+=n*$,A+=n*W,C+=n*J,m+=(n=r[12])*Z,v+=n*I,w+=n*j,P+=n*G,b+=n*K,E+=n*F,x+=n*V,_+=n*L,S+=n*H,M+=n*z,O+=n*R,T+=n*Y,k+=n*q,A+=n*$,C+=n*W,N+=n*J,v+=(n=r[13])*Z,w+=n*I,P+=n*j,b+=n*G,E+=n*K,x+=n*F,_+=n*V,S+=n*L,M+=n*H,O+=n*z,T+=n*R,k+=n*Y,A+=n*q,C+=n*$,N+=n*W,B+=n*J,w+=(n=r[14])*Z,P+=n*I,b+=n*j,E+=n*G,x+=n*K,_+=n*F,S+=n*V,M+=n*L,O+=n*H,T+=n*z,k+=n*R,A+=n*Y,C+=n*q,N+=n*$,B+=n*W,U+=n*J,P+=(n=r[15])*Z,a+=38*(E+=n*j),s+=38*(x+=n*G),c+=38*(_+=n*K),u+=38*(S+=n*F),f+=38*(M+=n*V),h+=38*(O+=n*L),p+=38*(T+=n*H),l+=38*(k+=n*z),d+=38*(A+=n*R),y+=38*(C+=n*Y),g+=38*(N+=n*q),m+=38*(B+=n*$),v+=38*(U+=n*W),w+=38*(D+=n*J),o=(n=(o+=38*(b+=n*I))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),w=(n=w+i+65535)-65536*(i=Math.floor(n/65536)),P=(n=P+i+65535)-65536*(i=Math.floor(n/65536)),o=(n=(o+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),w=(n=w+i+65535)-65536*(i=Math.floor(n/65536)),P=(n=P+i+65535)-65536*(i=Math.floor(n/65536)),e[0]=o+=i-1+37*(i-1),e[1]=a,e[2]=s,e[3]=c,e[4]=u,e[5]=f,e[6]=h,e[7]=p,e[8]=l,e[9]=d,e[10]=y,e[11]=g,e[12]=m,e[13]=v,e[14]=w,e[15]=P}function K(e,r){G(e,r,r)}function F(e,t){var n,i=r();for(n=0;n<16;n++)i[n]=t[n];for(n=253;n>=0;n--)K(i,i),2!==n&&4!==n&&G(i,i,t);for(n=0;n<16;n++)e[n]=i[n]}function V(e,t){var n,i=r();for(n=0;n<16;n++)i[n]=t[n];for(n=250;n>=0;n--)K(i,i),1!==n&&G(i,i,t);for(n=0;n<16;n++)e[n]=i[n]}function L(e,t,n){var i,o,a=new Uint8Array(32),s=new Float64Array(80),u=r(),f=r(),h=r(),p=r(),l=r(),d=r();for(o=0;o<31;o++)a[o]=t[o];for(a[31]=127&t[31]|64,a[0]&=248,Z(s,n),o=0;o<16;o++)f[o]=s[o],p[o]=u[o]=h[o]=0;for(u[0]=p[0]=1,o=254;o>=0;--o)N(u,f,i=a[o>>>3]>>>(7&o)&1),N(h,p,i),I(l,u,h),j(u,u,h),I(h,f,p),j(f,f,p),K(p,l),K(d,u),G(u,h,u),G(h,f,l),I(l,u,h),j(u,u,h),K(f,u),j(h,p,d),G(u,h,c),I(u,u,p),G(h,h,u),G(u,p,d),G(p,f,s),K(f,l),N(u,f,i),N(h,p,i);for(o=0;o<16;o++)s[o+16]=u[o],s[o+32]=h[o],s[o+48]=f[o],s[o+64]=p[o];var y=s.subarray(32),g=s.subarray(16);return F(y,y),G(g,g,y),B(e,g),0}function H(e,r){return L(e,r,o)}function z(e,r){return n(r,32),H(e,r)}function R(e,r,t){var n=new Uint8Array(32);return L(n,t,r),w(e,i,n,P)}S.prototype.blocks=function(e,r,t){for(var n,i,o,a,s,c,u,f,h,p,l,d,y,g,m,v,w,P,b,E=this.fin?0:2048,x=this.h[0],_=this.h[1],S=this.h[2],M=this.h[3],O=this.h[4],T=this.h[5],k=this.h[6],A=this.h[7],C=this.h[8],N=this.h[9],B=this.r[0],U=this.r[1],D=this.r[2],Z=this.r[3],I=this.r[4],j=this.r[5],G=this.r[6],K=this.r[7],F=this.r[8],V=this.r[9];t>=16;)p=h=0,p+=(x+=8191&(n=255&e[r+0]|(255&e[r+1])<<8))*B,p+=(_+=8191&(n>>>13|(i=255&e[r+2]|(255&e[r+3])<<8)<<3))*(5*V),p+=(S+=8191&(i>>>10|(o=255&e[r+4]|(255&e[r+5])<<8)<<6))*(5*F),p+=(M+=8191&(o>>>7|(a=255&e[r+6]|(255&e[r+7])<<8)<<9))*(5*K),h=(p+=(O+=8191&(a>>>4|(s=255&e[r+8]|(255&e[r+9])<<8)<<12))*(5*G))>>>13,p&=8191,p+=(T+=s>>>1&8191)*(5*j),p+=(k+=8191&(s>>>14|(c=255&e[r+10]|(255&e[r+11])<<8)<<2))*(5*I),p+=(A+=8191&(c>>>11|(u=255&e[r+12]|(255&e[r+13])<<8)<<5))*(5*Z),p+=(C+=8191&(u>>>8|(f=255&e[r+14]|(255&e[r+15])<<8)<<8))*(5*D),l=h+=(p+=(N+=f>>>5|E)*(5*U))>>>13,l+=x*U,l+=_*B,l+=S*(5*V),l+=M*(5*F),h=(l+=O*(5*K))>>>13,l&=8191,l+=T*(5*G),l+=k*(5*j),l+=A*(5*I),l+=C*(5*Z),h+=(l+=N*(5*D))>>>13,l&=8191,d=h,d+=x*D,d+=_*U,d+=S*B,d+=M*(5*V),h=(d+=O*(5*F))>>>13,d&=8191,d+=T*(5*K),d+=k*(5*G),d+=A*(5*j),d+=C*(5*I),y=h+=(d+=N*(5*Z))>>>13,y+=x*Z,y+=_*D,y+=S*U,y+=M*B,h=(y+=O*(5*V))>>>13,y&=8191,y+=T*(5*F),y+=k*(5*K),y+=A*(5*G),y+=C*(5*j),g=h+=(y+=N*(5*I))>>>13,g+=x*I,g+=_*Z,g+=S*D,g+=M*U,h=(g+=O*B)>>>13,g&=8191,g+=T*(5*V),g+=k*(5*F),g+=A*(5*K),g+=C*(5*G),m=h+=(g+=N*(5*j))>>>13,m+=x*j,m+=_*I,m+=S*Z,m+=M*D,h=(m+=O*U)>>>13,m&=8191,m+=T*B,m+=k*(5*V),m+=A*(5*F),m+=C*(5*K),v=h+=(m+=N*(5*G))>>>13,v+=x*G,v+=_*j,v+=S*I,v+=M*Z,h=(v+=O*D)>>>13,v&=8191,v+=T*U,v+=k*B,v+=A*(5*V),v+=C*(5*F),w=h+=(v+=N*(5*K))>>>13,w+=x*K,w+=_*G,w+=S*j,w+=M*I,h=(w+=O*Z)>>>13,w&=8191,w+=T*D,w+=k*U,w+=A*B,w+=C*(5*V),P=h+=(w+=N*(5*F))>>>13,P+=x*F,P+=_*K,P+=S*G,P+=M*j,h=(P+=O*I)>>>13,P&=8191,P+=T*Z,P+=k*D,P+=A*U,P+=C*B,b=h+=(P+=N*(5*V))>>>13,b+=x*V,b+=_*F,b+=S*K,b+=M*G,h=(b+=O*j)>>>13,b&=8191,b+=T*I,b+=k*Z,b+=A*D,b+=C*U,x=p=8191&(h=(h=((h+=(b+=N*B)>>>13)<<2)+h|0)+(p&=8191)|0),_=l+=h>>>=13,S=d&=8191,M=y&=8191,O=g&=8191,T=m&=8191,k=v&=8191,A=w&=8191,C=P&=8191,N=b&=8191,r+=16,t-=16;this.h[0]=x,this.h[1]=_,this.h[2]=S,this.h[3]=M,this.h[4]=O,this.h[5]=T,this.h[6]=k,this.h[7]=A,this.h[8]=C,this.h[9]=N},S.prototype.finish=function(e,r){var t,n,i,o,a=new Uint16Array(10);if(this.leftover){for(o=this.leftover,this.buffer[o++]=1;o<16;o++)this.buffer[o]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(t=this.h[1]>>>13,this.h[1]&=8191,o=2;o<10;o++)this.h[o]+=t,t=this.h[o]>>>13,this.h[o]&=8191;for(this.h[0]+=5*t,t=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=t,t=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=t,a[0]=this.h[0]+5,t=a[0]>>>13,a[0]&=8191,o=1;o<10;o++)a[o]=this.h[o]+t,t=a[o]>>>13,a[o]&=8191;for(a[9]-=8192,n=(1^t)-1,o=0;o<10;o++)a[o]&=n;for(n=~n,o=0;o<10;o++)this.h[o]=this.h[o]&n|a[o];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),this.h[0]=65535&(i=this.h[0]+this.pad[0]),o=1;o<8;o++)this.h[o]=65535&(i=(this.h[o]+this.pad[o]|0)+(i>>>16)|0);e[r+0]=this.h[0]>>>0&255,e[r+1]=this.h[0]>>>8&255,e[r+2]=this.h[1]>>>0&255,e[r+3]=this.h[1]>>>8&255,e[r+4]=this.h[2]>>>0&255,e[r+5]=this.h[2]>>>8&255,e[r+6]=this.h[3]>>>0&255,e[r+7]=this.h[3]>>>8&255,e[r+8]=this.h[4]>>>0&255,e[r+9]=this.h[4]>>>8&255,e[r+10]=this.h[5]>>>0&255,e[r+11]=this.h[5]>>>8&255,e[r+12]=this.h[6]>>>0&255,e[r+13]=this.h[6]>>>8&255,e[r+14]=this.h[7]>>>0&255,e[r+15]=this.h[7]>>>8&255},S.prototype.update=function(e,r,t){var n,i;if(this.leftover){for((i=16-this.leftover)>t&&(i=t),n=0;n<i;n++)this.buffer[this.leftover+n]=e[r+n];if(t-=i,r+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(t>=16&&(this.blocks(e,r,i=t-t%16),r+=i,t-=i),t){for(n=0;n<t;n++)this.buffer[this.leftover+n]=e[r+n];this.leftover+=t}};var Y=T,q=k,$=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function W(e,r,t,n){for(var i,o,a,s,c,u,f,h,p,l,d,y,g,m,v,w,P,b,E,x,_,S,M=new Int32Array(16),O=new Int32Array(16),T=e[0],k=e[1],A=e[2],C=e[3],N=e[4],B=e[5],U=e[6],D=e[7],Z=r[0],I=r[1],j=r[2],G=r[3],K=r[4],F=r[5],V=r[6],L=r[7],H=0;n>=128;){for(v=0;v<16;v++)M[v]=t[(w=8*v+H)+0]<<24|t[w+1]<<16|t[w+2]<<8|t[w+3],O[v]=t[w+4]<<24|t[w+5]<<16|t[w+6]<<8|t[w+7];for(v=0;v<80;v++)if(i=k,o=A,a=N,s=B,c=U,f=I,h=j,p=K,l=F,d=V,E=65535&(b=L),x=b>>>16,_=65535&(P=D),S=P>>>16,E+=65535&(b=(K>>>14|N<<18)^(K>>>18|N<<14)^(N>>>9|K<<23)),x+=b>>>16,_+=65535&(P=(N>>>14|K<<18)^(N>>>18|K<<14)^(K>>>9|N<<23)),S+=P>>>16,E+=65535&(b=K&F^~K&V),x+=b>>>16,_+=65535&(P=N&B^~N&U),S+=P>>>16,E+=65535&(b=$[2*v+1]),x+=b>>>16,_+=65535&(P=$[2*v]),S+=P>>>16,x+=(b=O[v%16])>>>16,_+=65535&(P=M[v%16]),S+=P>>>16,_+=(x+=(E+=65535&b)>>>16)>>>16,E=65535&(b=m=65535&E|x<<16),x=b>>>16,_=65535&(P=g=65535&_|(S+=_>>>16)<<16),S=P>>>16,E+=65535&(b=(Z>>>28|T<<4)^(T>>>2|Z<<30)^(T>>>7|Z<<25)),x+=b>>>16,_+=65535&(P=(T>>>28|Z<<4)^(Z>>>2|T<<30)^(Z>>>7|T<<25)),S+=P>>>16,x+=(b=Z&I^Z&j^I&j)>>>16,_+=65535&(P=T&k^T&A^k&A),S+=P>>>16,u=65535&(_+=(x+=(E+=65535&b)>>>16)>>>16)|(S+=_>>>16)<<16,y=65535&E|x<<16,E=65535&(b=G),x=b>>>16,_=65535&(P=C),S=P>>>16,x+=(b=m)>>>16,_+=65535&(P=g),S+=P>>>16,k=T,A=i,C=o,N=65535&(_+=(x+=(E+=65535&b)>>>16)>>>16)|(S+=_>>>16)<<16,B=a,U=s,D=c,T=u,I=Z,j=f,G=h,K=65535&E|x<<16,F=p,V=l,L=d,Z=y,v%16==15)for(w=0;w<16;w++)E=65535&(b=O[w]),x=b>>>16,_=65535&(P=M[w]),S=P>>>16,E+=65535&(b=O[(w+9)%16]),x+=b>>>16,_+=65535&(P=M[(w+9)%16]),S+=P>>>16,E+=65535&(b=((m=O[(w+1)%16])>>>1|(g=M[(w+1)%16])<<31)^(m>>>8|g<<24)^(m>>>7|g<<25)),x+=b>>>16,_+=65535&(P=(g>>>1|m<<31)^(g>>>8|m<<24)^g>>>7),S+=P>>>16,x+=(b=((m=O[(w+14)%16])>>>19|(g=M[(w+14)%16])<<13)^(g>>>29|m<<3)^(m>>>6|g<<26))>>>16,_+=65535&(P=(g>>>19|m<<13)^(m>>>29|g<<3)^g>>>6),S+=P>>>16,M[w]=65535&(_+=(x+=(E+=65535&b)>>>16)>>>16)|(S+=_>>>16)<<16,O[w]=65535&E|x<<16;E=65535&(b=Z),x=b>>>16,_=65535&(P=T),S=P>>>16,x+=(b=r[0])>>>16,_+=65535&(P=e[0]),S+=P>>>16,e[0]=T=65535&(_+=(x+=(E+=65535&b)>>>16)>>>16)|(S+=_>>>16)<<16,r[0]=Z=65535&E|x<<16,E=65535&(b=I),x=b>>>16,_=65535&(P=k),S=P>>>16,x+=(b=r[1])>>>16,_+=65535&(P=e[1]),S+=P>>>16,e[1]=k=65535&(_+=(x+=(E+=65535&b)>>>16)>>>16)|(S+=_>>>16)<<16,r[1]=I=65535&E|x<<16,E=65535&(b=j),x=b>>>16,_=65535&(P=A),S=P>>>16,x+=(b=r[2])>>>16,_+=65535&(P=e[2]),S+=P>>>16,e[2]=A=65535&(_+=(x+=(E+=65535&b)>>>16)>>>16)|(S+=_>>>16)<<16,r[2]=j=65535&E|x<<16,E=65535&(b=G),x=b>>>16,_=65535&(P=C),S=P>>>16,x+=(b=r[3])>>>16,_+=65535&(P=e[3]),S+=P>>>16,e[3]=C=65535&(_+=(x+=(E+=65535&b)>>>16)>>>16)|(S+=_>>>16)<<16,r[3]=G=65535&E|x<<16,E=65535&(b=K),x=b>>>16,_=65535&(P=N),S=P>>>16,x+=(b=r[4])>>>16,_+=65535&(P=e[4]),S+=P>>>16,e[4]=N=65535&(_+=(x+=(E+=65535&b)>>>16)>>>16)|(S+=_>>>16)<<16,r[4]=K=65535&E|x<<16,E=65535&(b=F),x=b>>>16,_=65535&(P=B),S=P>>>16,x+=(b=r[5])>>>16,_+=65535&(P=e[5]),S+=P>>>16,e[5]=B=65535&(_+=(x+=(E+=65535&b)>>>16)>>>16)|(S+=_>>>16)<<16,r[5]=F=65535&E|x<<16,E=65535&(b=V),x=b>>>16,_=65535&(P=U),S=P>>>16,x+=(b=r[6])>>>16,_+=65535&(P=e[6]),S+=P>>>16,e[6]=U=65535&(_+=(x+=(E+=65535&b)>>>16)>>>16)|(S+=_>>>16)<<16,r[6]=V=65535&E|x<<16,E=65535&(b=L),x=b>>>16,_=65535&(P=D),S=P>>>16,x+=(b=r[7])>>>16,_+=65535&(P=e[7]),S+=P>>>16,e[7]=D=65535&(_+=(x+=(E+=65535&b)>>>16)>>>16)|(S+=_>>>16)<<16,r[7]=L=65535&E|x<<16,H+=128,n-=128}return n}function J(e,r,t){var n,i=new Int32Array(8),o=new Int32Array(8),a=new Uint8Array(256),s=t;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,o[0]=4089235720,o[1]=2227873595,o[2]=4271175723,o[3]=1595750129,o[4]=2917565137,o[5]=725511199,o[6]=4215389547,o[7]=327033209,W(i,o,r,t),t%=128,n=0;n<t;n++)a[n]=r[s-t+n];for(a[t]=128,a[(t=256-128*(t<112?1:0))-9]=0,d(a,t-8,s/536870912|0,s<<3),W(i,o,a,t),n=0;n<8;n++)d(e,8*n,i[n],o[n]);return 0}function X(e,t){var n=r(),i=r(),o=r(),a=r(),s=r(),c=r(),u=r(),h=r(),p=r();j(n,e[1],e[0]),j(p,t[1],t[0]),G(n,n,p),I(i,e[0],e[1]),I(p,t[0],t[1]),G(i,i,p),G(o,e[3],t[3]),G(o,o,f),G(a,e[2],t[2]),I(a,a,a),j(s,i,n),j(c,a,o),I(u,a,o),I(h,i,n),G(e[0],s,c),G(e[1],h,u),G(e[2],u,c),G(e[3],s,h)}function Q(e,r,t){var n;for(n=0;n<4;n++)N(e[n],r[n],t)}function ee(e,t){var n=r(),i=r(),o=r();F(o,t[2]),G(n,t[0],o),G(i,t[1],o),B(e,i),e[31]^=D(n)<<7}function re(e,r,t){var n,i;for(A(e[0],a),A(e[1],s),A(e[2],s),A(e[3],a),i=255;i>=0;--i)Q(e,r,n=t[i/8|0]>>(7&i)&1),X(r,e),X(e,e),Q(e,r,n)}function te(e,t){var n=[r(),r(),r(),r()];A(n[0],h),A(n[1],p),A(n[2],s),G(n[3],h,p),re(e,n,t)}function ne(e,t,i){var o,a=new Uint8Array(64),s=[r(),r(),r(),r()];for(i||n(t,32),J(a,t,32),a[0]&=248,a[31]&=127,a[31]|=64,te(s,a),ee(e,s),o=0;o<32;o++)t[o+32]=e[o];return 0}var ie,oe=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ae(e,r){var t,n,i,o;for(n=63;n>=32;--n){for(t=0,i=n-32,o=n-12;i<o;++i)r[i]+=t-16*r[n]*oe[i-(n-32)],t=Math.floor((r[i]+128)/256),r[i]-=256*t;r[i]+=t,r[n]=0}for(t=0,i=0;i<32;i++)r[i]+=t-(r[31]>>4)*oe[i],t=r[i]>>8,r[i]&=255;for(i=0;i<32;i++)r[i]-=t*oe[i];for(n=0;n<32;n++)r[n+1]+=r[n]>>8,e[n]=255&r[n]}function se(e){var r,t=new Float64Array(64);for(r=0;r<64;r++)t[r]=e[r];for(r=0;r<64;r++)e[r]=0;ae(e,t)}function ce(e,t,n,i){var o,a,s=new Uint8Array(64),c=new Uint8Array(64),u=new Uint8Array(64),f=new Float64Array(64),h=[r(),r(),r(),r()];J(s,i,32),s[0]&=248,s[31]&=127,s[31]|=64;var p=n+64;for(o=0;o<n;o++)e[64+o]=t[o];for(o=0;o<32;o++)e[32+o]=s[32+o];for(J(u,e.subarray(32),n+32),se(u),te(h,u),ee(e,h),o=32;o<64;o++)e[o]=i[o];for(J(c,e,n+64),se(c),o=0;o<64;o++)f[o]=0;for(o=0;o<32;o++)f[o]=u[o];for(o=0;o<32;o++)for(a=0;a<32;a++)f[o+a]+=c[o]*s[a];return ae(e.subarray(32),f),p}function ue(e,t,n,i){var o,c=new Uint8Array(32),f=new Uint8Array(64),h=[r(),r(),r(),r()],p=[r(),r(),r(),r()];if(n<64)return-1;if(function(e,t){var n=r(),i=r(),o=r(),c=r(),f=r(),h=r(),p=r();return A(e[2],s),Z(e[1],t),K(o,e[1]),G(c,o,u),j(o,o,e[2]),I(c,e[2],c),K(f,c),K(h,f),G(p,h,f),G(n,p,o),G(n,n,c),V(n,n),G(n,n,o),G(n,n,c),G(n,n,c),G(e[0],n,c),K(i,e[0]),G(i,i,c),U(i,o)&&G(e[0],e[0],l),K(i,e[0]),G(i,i,c),U(i,o)?-1:(D(e[0])===t[31]>>7&&j(e[0],a,e[0]),G(e[3],e[0],e[1]),0)}(p,i))return-1;for(o=0;o<n;o++)e[o]=t[o];for(o=0;o<32;o++)e[o+32]=i[o];if(J(f,e,n),se(f),re(h,p,f),te(p,t.subarray(32)),X(h,p),ee(c,h),n-=64,m(t,0,c,0)){for(o=0;o<n;o++)e[o]=0;return-1}for(o=0;o<n;o++)e[o]=t[o+64];return n}function fe(e,r){if(32!==e.length)throw new Error("bad key size");if(24!==r.length)throw new Error("bad nonce size")}function he(){for(var e=0;e<arguments.length;e++)if(!(arguments[e]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function pe(e){for(var r=0;r<e.length;r++)e[r]=0}e.lowlevel={crypto_core_hsalsa20:w,crypto_stream_xor:_,crypto_stream:x,crypto_stream_salsa20_xor:b,crypto_stream_salsa20:E,crypto_onetimeauth:M,crypto_onetimeauth_verify:O,crypto_verify_16:g,crypto_verify_32:m,crypto_secretbox:T,crypto_secretbox_open:k,crypto_scalarmult:L,crypto_scalarmult_base:H,crypto_box_beforenm:R,crypto_box_afternm:Y,crypto_box:function(e,r,t,n,i,o){var a=new Uint8Array(32);return R(a,i,o),Y(e,r,t,n,a)},crypto_box_open:function(e,r,t,n,i,o){var a=new Uint8Array(32);return R(a,i,o),q(e,r,t,n,a)},crypto_box_keypair:z,crypto_hash:J,crypto_sign:ce,crypto_sign_keypair:ne,crypto_sign_open:ue,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:64,crypto_sign_PUBLICKEYBYTES:32,crypto_sign_SECRETKEYBYTES:64,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:r,D:u,L:oe,pack25519:B,unpack25519:Z,M:G,A:I,S:K,Z:j,pow2523:V,add:X,set25519:A,modL:ae,scalarmult:re,scalarbase:te},e.randomBytes=function(e){var r=new Uint8Array(e);return n(r,e),r},e.secretbox=function(e,r,t){he(e,r,t),fe(t,r);for(var n=new Uint8Array(32+e.length),i=new Uint8Array(n.length),o=0;o<e.length;o++)n[o+32]=e[o];return T(i,n,n.length,r,t),i.subarray(16)},e.secretbox.open=function(e,r,t){he(e,r,t),fe(t,r);for(var n=new Uint8Array(16+e.length),i=new Uint8Array(n.length),o=0;o<e.length;o++)n[o+16]=e[o];return n.length<32||0!==k(i,n,n.length,r,t)?null:i.subarray(32)},e.secretbox.keyLength=32,e.secretbox.nonceLength=24,e.secretbox.overheadLength=16,e.scalarMult=function(e,r){if(he(e,r),32!==e.length)throw new Error("bad n size");if(32!==r.length)throw new Error("bad p size");var t=new Uint8Array(32);return L(t,e,r),t},e.scalarMult.base=function(e){if(he(e),32!==e.length)throw new Error("bad n size");var r=new Uint8Array(32);return H(r,e),r},e.scalarMult.scalarLength=32,e.scalarMult.groupElementLength=32,e.box=function(r,t,n,i){var o=e.box.before(n,i);return e.secretbox(r,t,o)},e.box.before=function(e,r){he(e,r),function(e,r){if(32!==e.length)throw new Error("bad public key size");if(32!==r.length)throw new Error("bad secret key size")}(e,r);var t=new Uint8Array(32);return R(t,e,r),t},e.box.after=e.secretbox,e.box.open=function(r,t,n,i){var o=e.box.before(n,i);return e.secretbox.open(r,t,o)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var e=new Uint8Array(32),r=new Uint8Array(32);return z(e,r),{publicKey:e,secretKey:r}},e.box.keyPair.fromSecretKey=function(e){if(he(e),32!==e.length)throw new Error("bad secret key size");var r=new Uint8Array(32);return H(r,e),{publicKey:r,secretKey:new Uint8Array(e)}},e.box.publicKeyLength=32,e.box.secretKeyLength=32,e.box.sharedKeyLength=32,e.box.nonceLength=24,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(e,r){if(he(e,r),64!==r.length)throw new Error("bad secret key size");var t=new Uint8Array(64+e.length);return ce(t,e,e.length,r),t},e.sign.open=function(e,r){if(he(e,r),32!==r.length)throw new Error("bad public key size");var t=new Uint8Array(e.length),n=ue(t,e,e.length,r);if(n<0)return null;for(var i=new Uint8Array(n),o=0;o<i.length;o++)i[o]=t[o];return i},e.sign.detached=function(r,t){for(var n=e.sign(r,t),i=new Uint8Array(64),o=0;o<i.length;o++)i[o]=n[o];return i},e.sign.detached.verify=function(e,r,t){if(he(e,r,t),64!==r.length)throw new Error("bad signature size");if(32!==t.length)throw new Error("bad public key size");var n,i=new Uint8Array(64+e.length),o=new Uint8Array(64+e.length);for(n=0;n<64;n++)i[n]=r[n];for(n=0;n<e.length;n++)i[n+64]=e[n];return ue(o,i,i.length,t)>=0},e.sign.keyPair=function(){var e=new Uint8Array(32),r=new Uint8Array(64);return ne(e,r),{publicKey:e,secretKey:r}},e.sign.keyPair.fromSecretKey=function(e){if(he(e),64!==e.length)throw new Error("bad secret key size");for(var r=new Uint8Array(32),t=0;t<r.length;t++)r[t]=e[32+t];return{publicKey:r,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if(he(e),32!==e.length)throw new Error("bad seed size");for(var r=new Uint8Array(32),t=new Uint8Array(64),n=0;n<32;n++)t[n]=e[n];return ne(r,t,!0),{publicKey:r,secretKey:t}},e.sign.publicKeyLength=32,e.sign.secretKeyLength=64,e.sign.seedLength=32,e.sign.signatureLength=64,e.hash=function(e){he(e);var r=new Uint8Array(64);return J(r,e,e.length),r},e.hash.hashLength=64,e.verify=function(e,r){return he(e,r),0!==e.length&&0!==r.length&&e.length===r.length&&0===y(e,0,r,0,e.length)},e.setPRNG=function(e){n=e},(ie="undefined"!=typeof self?self.crypto||self.msCrypto:null)&&ie.getRandomValues?e.setPRNG(function(e,r){var t,n=new Uint8Array(r);for(t=0;t<r;t+=65536)ie.getRandomValues(n.subarray(t,t+Math.min(r-t,65536)));for(t=0;t<r;t++)e[t]=n[t];pe(n)}):(ie=t(19726))&&ie.randomBytes&&e.setPRNG(function(e,r){var t,n=ie.randomBytes(r);for(t=0;t<r;t++)e[t]=n[t];pe(n)})}(e.exports?e.exports:self.nacl=self.nacl||{})},50520:function(e,r,t){"use strict";t.r(r),t.d(r,{EthereumPrivateKeyProvider:function(){return Q},WalletConnectProvider:function(){return T}});var n=t(16304),i=t(5587),o=t(52993),a=t(94630),s=t(77702),c=t(91091),u=t(728),f=t(50470),h=t(73822),p=t(13635),l=t(21669),d=t.n(l),y=t(15788),g=t.n(y),m=t(30672);function v(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function w(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?v(Object(t),!0).forEach(function(r){(0,i.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function P(e){return 42===e.length}function b(e){let{getAccounts:r,getPrivateKey:t,processDecryptMessage:i,processEncryptionPublicKey:o,processEthSignMessage:s,processPersonalMessage:c,processTransaction:f,processSignTransaction:h,processTypedMessage:p,processTypedMessageV3:l,processTypedMessageV4:d}=e;if(!r)throw new Error("opts.getAccounts is required");function y(e,r){return g.apply(this,arguments)}function g(){return(g=(0,n.Z)(function*(e,t){if("string"==typeof e&&e.length>0){const n=(yield r(t)).map(e=>e.toLowerCase()),i=e.toLowerCase();if(n.includes(i))return i}throw u.Sy.rpc.invalidParams({message:"Invalid parameters: must provide an Ethereum address."})})).apply(this,arguments)}function m(){return(m=(0,n.Z)(function*(e,t){t.result=yield r(e)})).apply(this,arguments)}function v(){return(v=(0,n.Z)(function*(e,t){const n=yield r(e);t.result=n[0]||null})).apply(this,arguments)}function b(){return(b=(0,n.Z)(function*(e,r){if(!f)throw u.Sy.rpc.methodNotSupported();const t=e.params[0]||{from:""};t.from=yield y(t.from,e),r.result=yield f(t,e)})).apply(this,arguments)}function E(){return(E=(0,n.Z)(function*(e,r){if(!h)throw u.Sy.rpc.methodNotSupported();const t=e.params[0]||{from:""};t.from=yield y(t.from,e),r.result=yield h(t,e)})).apply(this,arguments)}function x(){return(x=(0,n.Z)(function*(e,r){if(!s)throw u.Sy.rpc.methodNotSupported();const t=yield y(e.params[0],e),n=e.params[1],i=w(w({},e.params[2]||{}),{},{from:t,data:n});r.result=yield s(i,e)})).apply(this,arguments)}function _(){return(_=(0,n.Z)(function*(e,r){if(!p)throw u.Sy.rpc.methodNotSupported();const t=e.params[0],n=yield y(e.params[1],e),i=w(w({},e.params[2]||{}),{},{from:n,data:t});r.result=yield p(i,e,"V1")})).apply(this,arguments)}function S(){return(S=(0,n.Z)(function*(e,r){if(!l)throw u.Sy.rpc.methodNotSupported();const t=yield y(e.params[0],e),n={data:e.params[1],from:t,version:"V3"};r.result=yield l(n,e,"V3")})).apply(this,arguments)}function M(){return(M=(0,n.Z)(function*(e,r){if(!d)throw u.Sy.rpc.methodNotSupported();const t=yield y(e.params[0],e),n={data:e.params[1],from:t,version:"V4"};r.result=yield d(n,e,"V4")})).apply(this,arguments)}function O(){return(O=(0,n.Z)(function*(e,r){if(!c)throw u.Sy.rpc.methodNotSupported();const t=e.params[0],n=e.params[1],i=e.params[2]||{};let o,a;if(P(t)&&!P(n)){let e="The eth_personalSign method requires params ordered ";e+="[message, address]. This was previously handled incorrectly, ",e+="and has been corrected automatically. ",e+="Please switch this param order for smooth behavior in the future.",r.warning=e,o=t,a=n}else a=t,o=n;o=yield y(o,e);const s=w(w({},i),{},{from:o,data:a});r.result=yield c(s,e)})).apply(this,arguments)}function T(){return(T=(0,n.Z)(function*(e,r){if(!o)throw u.Sy.rpc.methodNotSupported();const t=yield y(e.params[0],e);r.result=yield o(t,e)})).apply(this,arguments)}function k(){return(k=(0,n.Z)(function*(e,r){if(!i)throw u.Sy.rpc.methodNotSupported();const t=e.params[0],n=yield y(e.params[1],e),o=w(w({},e.params[2]||{}),{},{from:n,data:t});r.result=i(o,e)})).apply(this,arguments)}function A(){return(A=(0,n.Z)(function*(e,r){if(!t)throw u.Sy.rpc.methodNotSupported();r.result=t(e)})).apply(this,arguments)}return(0,a.v0)({eth_accounts:(0,a.Pk)(function(e,r){return m.apply(this,arguments)}),eth_private_key:(0,a.Pk)(function(e,r){return A.apply(this,arguments)}),eth_coinbase:(0,a.Pk)(function(e,r){return v.apply(this,arguments)}),eth_sendTransaction:(0,a.Pk)(function(e,r){return b.apply(this,arguments)}),eth_signTransaction:(0,a.Pk)(function(e,r){return E.apply(this,arguments)}),eth_sign:(0,a.Pk)(function(e,r){return x.apply(this,arguments)}),eth_signTypedData:(0,a.Pk)(function(e,r){return _.apply(this,arguments)}),eth_signTypedData_v3:(0,a.Pk)(function(e,r){return S.apply(this,arguments)}),eth_signTypedData_v4:(0,a.Pk)(function(e,r){return M.apply(this,arguments)}),personal_sign:(0,a.Pk)(function(e,r){return O.apply(this,arguments)}),eth_getEncryptionPublicKey:(0,a.Pk)(function(e,r){return T.apply(this,arguments)}),eth_decrypt:(0,a.Pk)(function(e,r){return k.apply(this,arguments)})})}function E(e){const{getAccounts:r,getPrivateKey:t,processTransaction:n,processSignTransaction:i,processEthSignMessage:o,processTypedMessage:s,processTypedMessageV3:c,processTypedMessageV4:u,processPersonalMessage:f,processEncryptionPublicKey:h,processDecryptMessage:p}=e;return(0,a.UZ)([(0,a.v0)({eth_syncing:!1}),b({getAccounts:r,getPrivateKey:t,processTransaction:n,processEthSignMessage:o,processSignTransaction:i,processTypedMessage:s,processTypedMessageV3:c,processTypedMessageV4:u,processPersonalMessage:f,processEncryptionPublicKey:h,processDecryptMessage:p})])}function x(e){return(r,t,n,i)=>"eth_chainId"===r.method?(t.result=e,i()):n()}function _(e){return(r,t,n,i)=>"eth_provider_config"===r.method?(t.result=e,i()):n()}function S(e){const{chainId:r,rpcTarget:t}=e,n=(0,o.v$)({rpcTarget:t});return{networkMiddleware:(0,a.UZ)([x(r),_(e),n]),fetchMiddleware:n}}function M(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function O(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?M(Object(t),!0).forEach(function(r){(0,i.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):M(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}class T extends c.Zk{constructor(e){let{config:r,state:t,connector:n}=e;super({config:{chainConfig:O(O({},r.chainConfig),{},{chainNamespace:s.EN.EIP155}),skipLookupNetwork:!!r.skipLookupNetwork},state:O(O({},t||{}),{},{chainId:"loading",accounts:[]})}),(0,i.Z)(this,"connector",null),this.connector=n||null}enable(){var e=this;return(0,n.Z)(function*(){if(!e.connector)throw u.Sy.provider.custom({message:"Connector is not initialized, pass wallet connect connector in constructor",code:4902});return yield e.setupProvider(e.connector),e._providerEngineProxy.request({method:"eth_accounts"})})()}setupProvider(e){var r=this;return(0,n.Z)(function*(){r.onConnectorStateUpdate(e),yield r.setupEngine(e)})()}switchChain(e){var r=this;return(0,n.Z)(function*(){let{chainId:t,addChain:n=!0,lookup:i=!0}=e;if(!r.connector)throw u.Sy.provider.custom({message:"Connector is not initialized, pass wallet connect connector in constructor",code:4902});const o=r.getChainConfig(t);r.update({chainId:"loading"});const{rpcTarget:a,displayName:c}=o;if(n)try{yield r.connector.sendCustomRequest({method:"wallet_addEthereumChain",params:[{chainId:t,chainName:c,rpcUrls:[a]}]})}catch(f){s.cM.error(f)}try{yield r.connector.sendCustomRequest({method:"wallet_switchEthereumChain",params:[{chainId:t}]})}catch(f){if(s.cM.error(f),"JSON RPC response format is invalid"!==f.message)throw f}r.configure({chainConfig:o}),i&&(yield r.lookupNetwork(r.connector))})()}addChain(e){var r=()=>super.addChain,t=this;return(0,n.Z)(function*(){if(!t.connector)throw s.Ty.notReady("Wallet adapter is not ready yet");const{rpcTarget:n,displayName:i}=e;try{yield t.connector.sendCustomRequest({method:"wallet_addEthereumChain",params:[{chainId:e.chainId,chainName:i,rpcUrls:[n]}]}),r().call(t,e)}catch(o){throw s.cM.error(o),o}})()}lookupNetwork(e){var r=this;return(0,n.Z)(function*(){if(!e.connected)throw s.RM.notConnectedError("Wallet connect connector is not connected");if(!r.provider)throw u.Sy.provider.custom({message:"Provider is not initialized",code:4902});const{chainId:t}=r.config.chainConfig,n=(0,s.H2)(e.chainId.toString())?e.chainId:"0x".concat(e.chainId.toString(16));if(t!==n)throw s.Ty.rpcConnectionError("Invalid network, net_version is: ".concat(n,", expected: ").concat(t));return r.provider.emit("connect",{chainId:t}),r.provider.emit("chainChanged",r.state.chainId),n})()}setupEngine(e){var r=this;return(0,n.Z)(function*(){const t=function(e){let{connector:r}=e;return{getPrivateKey:(l=(0,n.Z)(function*(){throw u.Sy.rpc.methodNotSupported()}),function(){return l.apply(this,arguments)}),getAccounts:(p=(0,n.Z)(function*(e){const{accounts:t}=r;if(t&&t.length)return t;throw new Error("Failed to get accounts")}),function(e){return p.apply(this,arguments)}),processTransaction:(h=(0,n.Z)(function*(e,t){return yield r.sendTransaction(e)}),function(e,r){return h.apply(this,arguments)}),processSignTransaction:(f=(0,n.Z)(function*(e,t){return yield r.signTransaction(e)}),function(e,r){return f.apply(this,arguments)}),processEthSignMessage:(c=(0,n.Z)(function*(e,t){return yield r.signMessage([e.from,e.data])}),function(e,r){return c.apply(this,arguments)}),processPersonalMessage:(s=(0,n.Z)(function*(e,t){return yield r.signPersonalMessage([e.data,e.from])}),function(e,r){return s.apply(this,arguments)}),processTypedMessage:(a=(0,n.Z)(function*(e,t){return yield r.signTypedData([e.from,e.data])}),function(e,r){return a.apply(this,arguments)}),processTypedMessageV3:(o=(0,n.Z)(function*(e){return yield r.signTypedData([e.from,e.data])}),function(e){return o.apply(this,arguments)}),processTypedMessageV4:(i=(0,n.Z)(function*(e){return yield r.signTypedData([e.from,e.data])}),function(e){return i.apply(this,arguments)}),processEncryptionPublicKey:(t=(0,n.Z)(function*(e){throw u.Sy.rpc.methodNotSupported()}),function(e){return t.apply(this,arguments)}),processDecryptMessage:e=>{throw u.Sy.rpc.methodNotSupported()}};var t,i,o,a,s,c,f,h,p,l}({connector:e});r.update({accounts:e.accounts||[]});const i=E(t),s=new a.eI,{networkMiddleware:c}=S(r.config.chainConfig);s.push(i),s.push(c);const f=(0,o.Xj)(s);r.updateProviderEngineProxy(f),r.config.skipLookupNetwork||(yield r.lookupNetwork(e))})()}onConnectorStateUpdate(e){var r=this;return(0,n.Z)(function*(){e.on("session_update",function(){var t=(0,n.Z)(function*(t,n){if(!r.provider)throw s.RM.notConnectedError("Wallet connect connector is not connected");if(t)return void r.provider.emit("error",t);const{accounts:i,chainId:o,rpcUrl:a}=n.params[0];null!=i&&i.length&&r.state.accounts[0]!==i[0]&&(r.update({accounts:i}),r.provider.emit("accountsChanged",i));const c="0x".concat(o.toString(16));if(o&&r.state.chainId!==c){const t=(0,s.h2)(s.EN.EIP155,o)||{};r.configure({chainConfig:O(O({},t),{},{chainId:c,rpcTarget:a,chainNamespace:s.EN.EIP155})}),yield r.setupEngine(e)}});return function(e,r){return t.apply(this,arguments)}}())})()}}function k(e,r,t){return A.apply(this,arguments)}function A(){return(A=(0,n.Z)(function*(e,r,t){const n=yield t.formatTransaction(e),i=yield t.getCommonConfiguration();return f.TransactionFactory.fromTxData(n,{common:i}).sign(Buffer.from(r,"hex")).serialize()})).apply(this,arguments)}(0,i.Z)(T,"getProviderInstance",function(){var e=(0,n.Z)(function*(e){const r=new T({config:{chainConfig:e.chainConfig,skipLookupNetwork:e.skipLookupNetwork}});return yield r.setupProvider(e.connector),r});return function(r){return e.apply(this,arguments)}}());const C=new(g())("1e18"),N=new(g())("1e9"),B=new(g())("1"),U={hex:e=>"string"==typeof e?new(g())((0,p.stripHexPrefix)(e),16):new(g())(e,16),dec:e=>new(g())(e,10)},D={WEI:e=>e.div(C),GWEI:e=>e.div(N),ETH:e=>e.div(B)},Z={WEI:e=>e.times(C).dp(0,g().ROUND_HALF_UP),GWEI:e=>e.times(N).dp(9,g().ROUND_HALF_UP),ETH:e=>e.times(B).dp(9,g().ROUND_HALF_UP)},I={hex:e=>e.toString(16),dec:e=>new(g())(e).toString(10)},j=(e,r)=>{let{fromNumericBase:t="hex",toNumericBase:n,fromDenomination:i,toDenomination:o,numberOfDecimals:a}=r;return(e=>{const{value:r,fromNumericBase:t,fromDenomination:n,toNumericBase:i,toDenomination:o,numberOfDecimals:a}=e;let s=U[t](r);return n&&(s=D[n](s)),o&&(s=Z[o](s)),a&&(s=s.dp(a,g().ROUND_HALF_DOWN)),i&&(s=I[i](s)),s})({fromNumericBase:t,toNumericBase:n,fromDenomination:i,toDenomination:o,numberOfDecimals:a,value:e||"0"})};function G(e){return j(e,{fromNumericBase:"dec",toNumericBase:"hex",fromDenomination:"GWEI",toDenomination:"WEI"})}function K(e){return j(e,{fromNumericBase:"hex",toNumericBase:"dec",fromDenomination:"WEI",toDenomination:"GWEI"})}function F(e){return(0,p.addHexPrefix)(e.toString(16))}function V(e){return y.BigNumber.isBigNumber(e)?e:new y.BigNumber((0,p.stripHexPrefix)(e),16)}function L(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function H(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?L(Object(t),!0).forEach(function(r){(0,i.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):L(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function z(e){return K(G(e))}function R(){return(R=(0,n.Z)(function*(e){const r=yield(0,m.U2)(e);return H(H({},r),{},{estimatedBaseFee:z(r.estimatedBaseFee),low:H(H({},r.low),{},{suggestedMaxPriorityFeePerGas:z(r.low.suggestedMaxPriorityFeePerGas),suggestedMaxFeePerGas:z(r.low.suggestedMaxFeePerGas)}),medium:H(H({},r.medium),{},{suggestedMaxPriorityFeePerGas:z(r.medium.suggestedMaxPriorityFeePerGas),suggestedMaxFeePerGas:z(r.medium.suggestedMaxFeePerGas)}),high:H(H({},r.high),{},{suggestedMaxPriorityFeePerGas:z(r.high.suggestedMaxPriorityFeePerGas),suggestedMaxFeePerGas:z(r.high.suggestedMaxFeePerGas)})})})).apply(this,arguments)}function Y(){return(Y=(0,n.Z)(function*(e){const r=yield(0,m.U2)(e,{referrer:e,referrerPolicy:"no-referrer-when-downgrade",method:"GET",mode:"cors"});return{low:r.SafeGasPrice,medium:r.ProposeGasPrice,high:r.FastGasPrice}})).apply(this,arguments)}function q(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function $(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?q(Object(t),!0).forEach(function(r){(0,i.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):q(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}class W{constructor(e){let{getProviderEngineProxy:r}=e;(0,i.Z)(this,"chainConfig",null),(0,i.Z)(this,"getProviderEngineProxy",void 0),(0,i.Z)(this,"isEIP1559Compatible",!1),this.getProviderEngineProxy=r}get providerProxy(){return this.getProviderEngineProxy()}init(){var e=this;return(0,n.Z)(function*(){e.chainConfig=yield e.providerProxy.request({method:"eth_provider_config",params:[]}),e.isEIP1559Compatible=yield e.getEIP1559Compatibility()})()}getCommonConfiguration(){var e=this;return(0,n.Z)(function*(){if(!e.chainConfig)throw new Error("Chain config not initialized");const{displayName:r,chainId:t}=e.chainConfig,n=e.isEIP1559Compatible?l.Hardfork.London:l.Hardfork.Berlin,i={name:r,chainId:"loading"===t?0:Number.parseInt(t,16),networkId:"loading"===t?0:Number.parseInt(t,16),defaultHardfork:n};return d().custom(i)})()}formatTransaction(e){var r=this;return(0,n.Z)(function*(){if(!r.chainConfig)throw new Error("Chain config not initialized");const t=$({},e);if(void 0===t.nonce&&(t.nonce=yield r.providerProxy.request({method:"eth_getTransactionCount",params:[e.from,"latest"]})),!r.isEIP1559Compatible&&t.gasPrice){if(t.maxFeePerGas&&delete t.maxFeePerGas,t.maxPriorityFeePerGas&&delete t.maxPriorityFeePerGas,t.gas)t.gasLimit=t.gas;else{const e=yield r.getDefaultGasLimit(t);e&&(t.gasLimit=e)}return t}if(t.gas)t.gasLimit=t.gas;else{const e=yield r.getDefaultGasLimit(t);e&&(t.gasLimit=e)}const{gasPrice:n,maxFeePerGas:i,maxPriorityFeePerGas:o}=yield r.getDefaultGasFees(t);var a,s;return r.isEIP1559Compatible?(!t.gasPrice||t.maxFeePerGas||t.maxPriorityFeePerGas?(i&&!t.maxFeePerGas&&(t.maxFeePerGas=i),o&&!t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=o),n&&!t.maxFeePerGas&&(t.maxFeePerGas=n),t.maxFeePerGas&&!t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=t.maxFeePerGas)):(t.maxFeePerGas=t.gasPrice,t.maxPriorityFeePerGas=(a="string"==typeof o?(0,p.stripHexPrefix)(o):o,s="string"==typeof t.gasPrice?(0,p.stripHexPrefix)(t.gasPrice):t.gasPrice,null!=a&&null!=s&&new y.BigNumber(a,10).lt(s,10)?o:t.gasPrice)),delete t.gasPrice):(delete t.maxPriorityFeePerGas,delete t.maxFeePerGas),!n||t.gasPrice||t.maxPriorityFeePerGas||t.maxFeePerGas||(t.gasPrice=n),t.type=r.isEIP1559Compatible?"0x2":"0x0",t.chainId=r.chainConfig.chainId,t})()}fetchEthGasPriceEstimate(){var e=this;return(0,n.Z)(function*(){return{gasPrice:K(yield e.providerProxy.request({method:"eth_gasPrice",params:[]})).toString()}})()}getEIP1559Compatibility(){var e=this;return(0,n.Z)(function*(){const r=yield e.providerProxy.request({method:"eth_getBlockByNumber",params:["latest",!1]});return!(!r||void 0===r.baseFeePerGas)})()}fetchGasFeeEstimateData(){var e=this;return(0,n.Z)(function*(){if(!e.chainConfig)throw new Error("Chain config not initialized");const r="0x1"===e.chainConfig.chainId,t=Number.parseInt(e.chainConfig.chainId,16);let n;try{if(e.isEIP1559Compatible)n={gasFeeEstimates:yield function(e){return R.apply(this,arguments)}("https://gas-api.metaswap.codefi.network/networks/<chain_id>/suggestedGasFees".replace("<chain_id>","".concat(t))),gasEstimateType:"fee-market"};else{if(!r)throw new Error("Main gas fee/price estimation failed. Use fallback");n={gasFeeEstimates:yield function(e){return Y.apply(this,arguments)}("https://gas-api.metaswap.codefi.network/networks/<chain_id>/gasPrices".replace("<chain_id>","".concat(t))),gasEstimateType:"legacy"}}}catch(i){try{n={gasFeeEstimates:yield e.fetchEthGasPriceEstimate(),gasEstimateType:"eth_gasPrice"}}catch(o){throw new Error("Gas fee/price estimation failed. Message: ".concat(o.message))}}return n})()}getDefaultGasFees(e){var r=this;return(0,n.Z)(function*(){if(!r.isEIP1559Compatible&&e.gasPrice||r.isEIP1559Compatible&&e.maxFeePerGas&&e.maxPriorityFeePerGas)return{};try{const{gasFeeEstimates:e,gasEstimateType:t}=yield r.fetchGasFeeEstimateData();if(r.isEIP1559Compatible&&"fee-market"===t){const{medium:{suggestedMaxPriorityFeePerGas:r,suggestedMaxFeePerGas:t}={}}=e;if(r&&t)return{maxFeePerGas:(0,p.addHexPrefix)(G(t)),maxPriorityFeePerGas:(0,p.addHexPrefix)(G(r))}}else{if("legacy"===t)return{gasPrice:G(e.medium)};if("eth_gasPrice"===t)return{gasPrice:(0,p.addHexPrefix)(G(e.gasPrice))}}}catch(n){s.cM.error(n)}const{gasPrice:t}=yield r.fetchEthGasPriceEstimate();return{gasPrice:(0,p.addHexPrefix)(G(t))}})()}estimateTxGas(e){var r=this;return(0,n.Z)(function*(){const t=$({},e);return delete t.gasPrice,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,yield r.providerProxy.request({method:"eth_estimateGas",params:[t]})})()}analyzeGasUsage(e){var r=this;return(0,n.Z)(function*(){const t=yield r.providerProxy.request({method:"eth_getBlockByNumber",params:["latest",!1]});let n=F(function(e,r,t){const n=new y.BigNumber(19),i=new y.BigNumber(20);return e.multipliedBy(n).dividedBy(i)}(V(t.gasLimit)));try{n=yield r.estimateTxGas(e)}catch(i){s.cM.warn(i)}return{blockGasLimit:t.gasLimit,estimatedGasHex:n}})()}addGasBuffer(e,r){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1.5;const n=V(e),i=V(r).multipliedBy(.9).dp(0,1),o=n.multipliedBy(t).dp(0,1);return n.gt(i)?F(n):o.lt(i)?F(o):F(i)}determineTransactionCategory(e){var r=this;return(0,n.Z)(function*(){const{data:t,to:n}=e;let i,o="";if(t&&!n)i="contractDeployment";else{try{o=yield r.providerProxy.request({method:"eth_getCode",params:[n,"latest"]})}catch(a){s.cM.warn(a)}i=o&&"0x"!==o&&"0x0"!==o?"contractInteraction":"sentEther"}return{transactionCategory:i,code:o}})()}getDefaultGasLimit(e){var r=this;return(0,n.Z)(function*(){const{transactionCategory:t}=yield r.determineTransactionCategory($({},e));if(e.gas)return e.gas;if(e.to&&"sentEther"===t){if(e.data)throw Error("TxGasUtil - Trying to call a function on a non-contract address");return(0,p.addHexPrefix)(21e3.toString(16))}const{blockGasLimit:n,estimatedGasHex:i}=yield r.analyzeGasUsage(e);return r.addGasBuffer((0,p.addHexPrefix)(i),n)})()}}function J(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function X(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?J(Object(t),!0).forEach(function(r){(0,i.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):J(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}class Q extends c.Zk{constructor(e){let{config:r,state:t}=e;super({config:{chainConfig:X(X({},r.chainConfig),{},{chainNamespace:s.EN.EIP155})},state:t})}enable(){var e=this;return(0,n.Z)(function*(){if(!e.state.privateKey)throw u.Sy.provider.custom({message:"Private key is not found in state, plz pass it in constructor state param",code:4902});return yield e.setupProvider(e.state.privateKey),e._providerEngineProxy.request({method:"eth_accounts"})})()}setupProvider(e){var r=this;return(0,n.Z)(function*(){const t=new W({getProviderEngineProxy:r.getProviderEngineProxy.bind(r)}),i=E(function(e){let{txFormatter:r,privKey:t,getProviderEngineProxy:i}=e;return{getAccounts:(w=(0,n.Z)(function*(e){return["0x".concat((0,p.privateToAddress)(Buffer.from(t,"hex")).toString("hex"))]}),function(e){return w.apply(this,arguments)}),getPrivateKey:(v=(0,n.Z)(function*(e){return t}),function(e){return v.apply(this,arguments)}),processTransaction:(m=(0,n.Z)(function*(e,n){const o=i();if(!o)throw u.Sy.provider.custom({message:"Provider is not initialized",code:4902});const a=yield k(e,t,r);return yield o.request({method:"eth_sendRawTransaction",params:["0x".concat(a.toString("hex"))]})}),function(e,r){return m.apply(this,arguments)}),processSignTransaction:(g=(0,n.Z)(function*(e,n){if(!i())throw u.Sy.provider.custom({message:"Provider is not initialized",code:4902});const o=yield k(e,t,r);return"0x".concat(o.toString("hex"))}),function(e,r){return g.apply(this,arguments)}),processEthSignMessage:(y=(0,n.Z)(function*(e,r){return(0,o.l)(t,e.data)}),function(e,r){return y.apply(this,arguments)}),processPersonalMessage:(d=(0,n.Z)(function*(e,r){const n=Buffer.from(t,"hex");return(0,h.personalSign)({privateKey:n,data:e.data})}),function(e,r){return d.apply(this,arguments)}),processTypedMessage:(l=(0,n.Z)(function*(e,r){s.cM.debug("processTypedMessage",e);const n=Buffer.from(t,"hex");return(0,h.signTypedData)({privateKey:n,data:e.data,version:h.SignTypedDataVersion.V1})}),function(e,r){return l.apply(this,arguments)}),processTypedMessageV3:(f=(0,n.Z)(function*(e,r){s.cM.debug("processTypedMessageV3",e);const n=Buffer.from(t,"hex");return(0,h.signTypedData)({privateKey:n,data:e.data,version:h.SignTypedDataVersion.V3})}),function(e,r){return f.apply(this,arguments)}),processTypedMessageV4:(c=(0,n.Z)(function*(e,r){s.cM.debug("processTypedMessageV4",e);const n=Buffer.from(t,"hex");return(0,h.signTypedData)({privateKey:n,data:e.data,version:h.SignTypedDataVersion.V4})}),function(e,r){return c.apply(this,arguments)}),processEncryptionPublicKey:(a=(0,n.Z)(function*(e,r){return s.cM.info("processEncryptionPublicKey",e),(0,h.getEncryptionPublicKey)(t)}),function(e,r){return a.apply(this,arguments)}),processDecryptMessage:(e,r)=>{s.cM.info("processDecryptMessage",e);const n=(0,p.stripHexPrefix)(e.data),i=Buffer.from(n,"hex");return(0,h.decrypt)({encryptedData:JSON.parse(i.toString("utf8")),privateKey:t})}};var a,c,f,l,d,y,g,m,v,w}({txFormatter:t,privKey:e,getProviderEngineProxy:r.getProviderEngineProxy.bind(r)})),c=r.getChainSwitchMiddleware(),f=new a.eI,{networkMiddleware:l}=S(r.config.chainConfig);f.push(i),f.push(c),f.push(r.getAccountMiddleware()),f.push(l);const d=(0,o.Xj)(f);r.updateProviderEngineProxy(d),yield t.init(),yield r.lookupNetwork()})()}updateAccount(e){var r=this;return(0,n.Z)(function*(){if(!r._providerEngineProxy)throw u.Sy.provider.custom({message:"Provider is not initialized",code:4902});(yield r._providerEngineProxy.request({method:"eth_private_key"}))!==e.privateKey&&(yield r.setupProvider(e.privateKey),r._providerEngineProxy.emit("accountsChanged",{accounts:yield r._providerEngineProxy.request({method:"eth_accounts"})}))})()}switchChain(e){var r=this;return(0,n.Z)(function*(){if(!r._providerEngineProxy)throw u.Sy.provider.custom({message:"Provider is not initialized",code:4902});const t=r.getChainConfig(e.chainId);r.update({chainId:"loading"}),r.configure({chainConfig:t});const n=yield r._providerEngineProxy.request({method:"eth_private_key"});yield r.setupProvider(n)})()}lookupNetwork(){var e=this;return(0,n.Z)(function*(){if(!e._providerEngineProxy)throw u.Sy.provider.custom({message:"Provider is not initialized",code:4902});const{chainId:r}=e.config.chainConfig;if(!r)throw u.Sy.rpc.invalidParams("chainId is required while lookupNetwork");const t=yield e._providerEngineProxy.request({method:"net_version",params:[]});if(parseInt(r,16)!==parseInt(t,10))throw u.Sy.provider.chainDisconnected("Invalid network, net_version is: ".concat(t));return e.state.chainId!==r&&(e._providerEngineProxy.emit("chainChanged",r),e._providerEngineProxy.emit("connect",{chainId:r})),e.update({chainId:r}),t})()}getChainSwitchMiddleware(){var e,r,t=this;return function(e){let{addChain:r,switchChain:t}=e;function i(){return(i=(0,n.Z)(function*(e,t){var n;const i=null!==(n=e.params)&&void 0!==n&&n.length?e.params[0]:void 0;if(!i)throw u.Sy.rpc.invalidParams("Missing chain params");if(!i.chainId)throw u.Sy.rpc.invalidParams("Missing chainId in chainParams");if(!i.rpcUrls||0===i.rpcUrls.length)throw u.Sy.rpc.invalidParams("Missing rpcUrls in chainParams");if(!i.nativeCurrency)throw u.Sy.rpc.invalidParams("Missing nativeCurrency in chainParams");t.result=yield r(i)})).apply(this,arguments)}function o(){return(o=(0,n.Z)(function*(e,r){var n;const i=null!==(n=e.params)&&void 0!==n&&n.length?e.params[0]:void 0;if(!i)throw u.Sy.rpc.invalidParams("Missing chainId");r.result=yield t(i)})).apply(this,arguments)}return(0,a.v0)({wallet_addEthereumChain:(0,a.Pk)(function(e,r){return i.apply(this,arguments)}),wallet_switchEthereumChain:(0,a.Pk)(function(e,r){return o.apply(this,arguments)})})}({addChain:(r=(0,n.Z)(function*(e){const{chainId:r,chainName:n,rpcUrls:i,blockExplorerUrls:o,nativeCurrency:a}=e;t.addChain({chainNamespace:"eip155",chainId:r,ticker:(null==a?void 0:a.symbol)||"ETH",tickerName:(null==a?void 0:a.name)||"Ether",displayName:n,rpcTarget:i[0],blockExplorer:(null==o?void 0:o[0])||""})}),function(e){return r.apply(this,arguments)}),switchChain:(e=(0,n.Z)(function*(e){const{chainId:r}=e;yield t.switchChain({chainId:r})}),function(r){return e.apply(this,arguments)})})}getAccountMiddleware(){var e,r=this;return function(e){let{updatePrivatekey:r}=e;function t(){return(t=(0,n.Z)(function*(e,t){var n;const i=null!==(n=e.params)&&void 0!==n&&n.length?e.params[0]:void 0;if(null==i||!i.privateKey)throw u.Sy.rpc.invalidParams("Missing privateKey");t.result=yield r(i)})).apply(this,arguments)}return(0,a.v0)({wallet_updateAccount:(0,a.Pk)(function(e,r){return t.apply(this,arguments)})})}({updatePrivatekey:(e=(0,n.Z)(function*(e){const{privateKey:t}=e;yield r.updateAccount({privateKey:t})}),function(r){return e.apply(this,arguments)})})}}(0,i.Z)(Q,"getProviderInstance",function(){var e=(0,n.Z)(function*(e){const r=new Q({config:{chainConfig:e.chainConfig}});return yield r.setupProvider(e.privKey),r});return function(r){return e.apply(this,arguments)}}())},728:function(e,r,t){"use strict";r.Sy=void 0,t(62929),t(8729);const n=t(71029);Object.defineProperty(r,"Sy",{enumerable:!0,get:function(){return n.ethErrors}}),t(53362)},71581:function(e){!function(r,t){"use strict";e.exports?e.exports=t():(r.nacl||(r.nacl={}),r.nacl.util=t())}(this,function(){"use strict";var e={};function r(e){if(!/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(e))throw new TypeError("invalid encoding")}return e.decodeUTF8=function(e){if("string"!=typeof e)throw new TypeError("expected string");var r,t=unescape(encodeURIComponent(e)),n=new Uint8Array(t.length);for(r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n},e.encodeUTF8=function(e){var r,t=[];for(r=0;r<e.length;r++)t.push(String.fromCharCode(e[r]));return decodeURIComponent(escape(t.join("")))},"undefined"==typeof atob?void 0!==Buffer.from?(e.encodeBase64=function(e){return Buffer.from(e).toString("base64")},e.decodeBase64=function(e){return r(e),new Uint8Array(Array.prototype.slice.call(Buffer.from(e,"base64"),0))}):(e.encodeBase64=function(e){return new Buffer(e).toString("base64")},e.decodeBase64=function(e){return r(e),new Uint8Array(Array.prototype.slice.call(new Buffer(e,"base64"),0))}):(e.encodeBase64=function(e){var r,t=[],n=e.length;for(r=0;r<n;r++)t.push(String.fromCharCode(e[r]));return btoa(t.join(""))},e.decodeBase64=function(e){r(e);var t,n=atob(e),i=new Uint8Array(n.length);for(t=0;t<n.length;t++)i[t]=n.charCodeAt(t);return i}),e})}}]);